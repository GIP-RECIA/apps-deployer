buildscript {
    repositories {
        mavenCentral()
        maven {
            url "https://repo.jenkins-ci.org/public/"
        }
    }
    dependencies {
        classpath "org.scaldingspoon.gradle:gradle-waroverlay-plugin:${waroverlayPluginVersion}"
    }
}

subprojects {
    apply plugin: 'waroverlay'
    apply plugin: org.esco.script.gradle.plugins.GradleTomcatDeployPlugin

    task allDeps(type: DependencyReportTask) {}

    repositories {
        mavenLocal()
        mavenCentral()
        maven {
            url "https://nexus.recia.dev/repository/releases/"
        }
        maven {
            url "https://nexus.recia.dev/repository/snapshots/"
        }

    }

    buildscript {
        repositories {
            mavenCentral()
            maven {
                url "https://repo.jenkins-ci.org/public/"
            }
        }
        dependencies {
            classpath "org.scaldingspoon.gradle:gradle-waroverlay-plugin:${waroverlayPluginVersion}"
        }
    }

    warOverlay {
        // Include the jar files in the WAR (default is false).
        includeWarJars true
    }

    configurations {
        war {}
        shell
        impexp
    }

    artifacts {
        war tasks.war
    }

}
